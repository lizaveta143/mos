(self.webpackChunkdo=self.webpackChunkdo||[]).push([[288],{2587:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var o=n(555);const r=n(9491);let s=n(3517);s.KEY="";var i=function(t,e,n,o){return new(n||(n=Promise))((function(r,s){function i(t){try{c(o.next(t))}catch(t){s(t)}}function a(t){try{c(o.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((o=o.apply(t,e||[])).next())}))},a=function(t,e){var n,o,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function c(t,e){return i(this,void 0,void 0,(function(){var i,c,l,h,u,d,p,f,m;return a(this,(function(a){switch(a.label){case 0:return[4,n.e(881).then(n.t.bind(n,4692,23))];case 1:return i=a.sent().default,[4,n.e(122).then(n.bind(n,1239))];case 2:return c=a.sent().default,l=c(e),function(t){let e={init:function(e){function n(t){return t.split(",")}if(e.center=n(e.center),t.each(e.data,(function(t,e){e.coords=n(e.coords)})),"google"===e.type){if(window.hasOwnProperty("mapKeys")&&window.mapKeys.hasOwnProperty("google")){var i=window.mapKeys.google;i&&(s.KEY=i)}s.LANGUAGE=e.lang,s.load((function(t){var n=new t.maps.Map(document.getElementById(e.id),{mapId:e.id,zoom:parseInt(e.zoom),scrollwheel:!1,center:new t.maps.LatLng(e.center[0],e.center[1])}),r=e.data.map((function(e,o){var r=new t.maps.marker.AdvancedMarkerElement({position:new t.maps.LatLng(e.coords[0],e.coords[1]),title:e.name}),s=new t.maps.InfoWindow({content:'<div class="baloon-content"><h3 style="margin: 0; padding-bottom: 3px;">'+e.name+"</h3>"+e.desc+"</div>"});return t.maps.event.addListener(r,"click",(function(){s.open(n,r)})),r}));new o.w1({map:n,markers:r})}),!0)}else{var a="ru"==e.lang?"ru_RU":"en_US",c="";if(window.hasOwnProperty("mapKeys")&&window.mapKeys.hasOwnProperty("yandex")){var l=window.mapKeys.yandex;l&&(c="&apikey="+l)}r.load("https://api-maps.yandex.ru/2.1/?lang="+a+c,!0).then((t=>{for(var n,o,r=new t.Map(e.id,{center:e.center,zoom:e.zoom,behaviors:["drag","rightMouseButtonMagnifier"]}),s=new t.Clusterer({preset:"islands#invertedBlueClusterIcons"}),i=[],a=0,c=e.data.length;a<c;a++)i[a]=new t.Placemark(e.data[a].coords,(n=a,{balloonContentHeader:'<div style="margin: 0; padding: 0 10px">'+(o=e.data[a]).name+"</div>",balloonContentBody:'<div style="padding: 0 10px">'+o.desc+"</div>",clusterCaption:"метка <strong>"+n+"</strong>"}),{preset:"islands#blueIcon"});s.add(i),r.geoObjects.add(s)}))}}};t.fn.mosaicMap=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Метод с именем "+n+" не существует для jQuery.mosaicMap"):e.init.apply(this,arguments)}}(i),h=l(),Object.keys(h).length&&(h.center||(h.center="55.735956,37.400827"),u=[],h.bullets?u=h.bullets:u.push({name:h.bulletName,coords:h.bulletCords?h.bulletCords:h.center,desc:h.bulletDesc}),d={data:u,lang:h.lang||"ru",zoom:h.zoom,center:h.center,type:h.type,id:i(t).attr("id")},p=i(window),f=i(t),m=function(){var t=p.scrollTop()||0,e=p.height()||0,n=f.offset(),o=f.outerHeight()||0;n&&t<=n.top+o&&(t>n.top&&t||t+e>=n.top)&&(f.html(""),f.mosaicMap("init",d),p.off("scroll",m))},p.on("scroll",m),m()),[2]}}))}))}},2882:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});const o=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class r{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,n]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const s=n>>4;if(1!==s)throw new Error(`Got v${s} data when expected v1.`);const i=o[15&n];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[c]=new Uint32Array(t,4,1);return new r(c,a,i,t)}constructor(t,e=64,n=Float64Array,r){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const s=o.indexOf(this.ArrayType),i=2*t*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-a%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+c,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+i+a+c),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+c,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=e,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return s(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,n,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:s,nodeSize:i}=this,a=[0,r.length-1,0],c=[];for(;a.length;){const l=a.pop()||0,h=a.pop()||0,u=a.pop()||0;if(h-u<=i){for(let i=u;i<=h;i++){const a=s[2*i],l=s[2*i+1];a>=t&&a<=n&&l>=e&&l<=o&&c.push(r[i])}continue}const d=u+h>>1,p=s[2*d],f=s[2*d+1];p>=t&&p<=n&&f>=e&&f<=o&&c.push(r[d]),(0===l?t<=p:e<=f)&&(a.push(u),a.push(d-1),a.push(1-l)),(0===l?n>=p:o>=f)&&(a.push(d+1),a.push(h),a.push(1-l))}return c}within(t,e,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:r,nodeSize:s}=this,i=[0,o.length-1,0],a=[],c=n*n;for(;i.length;){const h=i.pop()||0,u=i.pop()||0,d=i.pop()||0;if(u-d<=s){for(let n=d;n<=u;n++)l(r[2*n],r[2*n+1],t,e)<=c&&a.push(o[n]);continue}const p=d+u>>1,f=r[2*p],m=r[2*p+1];l(f,m,t,e)<=c&&a.push(o[p]),(0===h?t-n<=f:e-n<=m)&&(i.push(d),i.push(p-1),i.push(1-h)),(0===h?t+n>=f:e+n>=m)&&(i.push(p+1),i.push(u),i.push(1-h))}return a}}function s(t,e,n,o,r,a){if(r-o<=n)return;const c=o+r>>1;i(t,e,c,o,r,a),s(t,e,n,o,c-1,1-a),s(t,e,n,c+1,r,1-a)}function i(t,e,n,o,r,s){for(;r>o;){if(r-o>600){const a=r-o+1,c=n-o+1,l=Math.log(a),h=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*h*(a-h)/a)*(c-a/2<0?-1:1);i(t,e,n,Math.max(o,Math.floor(n-c*h/a+u)),Math.min(r,Math.floor(n+(a-c)*h/a+u)),s)}const c=e[2*n+s];let l=o,h=r;for(a(t,e,o,n),e[2*r+s]>c&&a(t,e,o,r);l<h;){for(a(t,e,l,h),l++,h--;e[2*l+s]<c;)l++;for(;e[2*h+s]>c;)h--}e[2*o+s]===c?a(t,e,o,h):(h++,a(t,e,h,r)),h<=n&&(o=h+1),n<=h&&(r=h-1)}}function a(t,e,n,o){c(t,n,o),c(e,2*n,2*o),c(e,2*n+1,2*o+1)}function c(t,e,n){const o=t[e];t[e]=t[n],t[n]=o}function l(t,e,n,o){const r=t-n,s=e-o;return r*r+s*s}const h={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},u=Math.fround||(d=new Float32Array(1),t=>(d[0]=+t,d[0]));var d;const p=3,f=5,m=6;class g{constructor(t){this.options=Object.assign(Object.create(h),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:n,maxZoom:o}=this.options;e&&console.time("total time");const r=`prepare ${t.length} points`;e&&console.time(r),this.points=t;const s=[];for(let e=0;e<t.length;e++){const n=t[e];if(!n.geometry)continue;const[o,r]=n.geometry.coordinates,i=u(A(o)),a=u(E(r));s.push(i,a,1/0,e,-1,1),this.options.reduce&&s.push(0)}let i=this.trees[o+1]=this._createTree(s);e&&console.timeEnd(r);for(let t=o;t>=n;t--){const n=+Date.now();i=this.trees[t]=this._createTree(this._cluster(i,t)),e&&console.log("z%d: %d clusters in %dms",t,i.numItems,+Date.now()-n)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let n=((t[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[1]));let r=180===t[2]?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,r=180;else if(n>r){const t=this.getClusters([n,o,180,s],e),i=this.getClusters([-180,o,r,s],e);return t.concat(i)}const i=this.trees[this._limitZoom(e)],a=i.range(A(n),E(s),A(r),E(o)),c=i.data,l=[];for(const t of a){const e=this.stride*t;l.push(c[e+f]>1?w(c,e,this.clusterProps):this.points[c[e+p]])}return l}getChildren(t){const e=this._getOriginId(t),n=this._getOriginZoom(t),o="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(o);const s=r.data;if(e*this.stride>=s.length)throw new Error(o);const i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=s[e*this.stride],c=s[e*this.stride+1],l=r.within(a,c,i),h=[];for(const e of l){const n=e*this.stride;s[n+4]===t&&h.push(s[n+f]>1?w(s,n,this.clusterProps):this.points[s[n+p]])}if(0===h.length)throw new Error(o);return h}getLeaves(t,e,n){e=e||10,n=n||0;const o=[];return this._appendLeaves(o,t,e,n,0),o}getTile(t,e,n){const o=this.trees[this._limitZoom(t)],r=Math.pow(2,t),{extent:s,radius:i}=this.options,a=i/s,c=(n-a)/r,l=(n+1+a)/r,h={features:[]};return this._addTileFeatures(o.range((e-a)/r,c,(e+1+a)/r,l),o.data,e,n,r,h),0===e&&this._addTileFeatures(o.range(1-a/r,c,1,l),o.data,r,n,r,h),e===r-1&&this._addTileFeatures(o.range(0,c,a/r,l),o.data,-1,n,r,h),h.features.length?h:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e}_appendLeaves(t,e,n,o,r){const s=this.getChildren(e);for(const e of s){const s=e.properties;if(s&&s.cluster?r+s.point_count<=o?r+=s.point_count:r=this._appendLeaves(t,s.cluster_id,n,o,r):r<o?r++:t.push(e),t.length===n)break}return r}_createTree(t){const e=new r(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)e.add(t[n],t[n+1]);return e.finish(),e.data=t,e}_addTileFeatures(t,e,n,o,r,s){for(const i of t){const t=i*this.stride,a=e[t+f]>1;let c,l,h;if(a)c=y(e,t,this.clusterProps),l=e[t],h=e[t+1];else{const n=this.points[e[t+p]];c=n.properties;const[o,r]=n.geometry.coordinates;l=A(o),h=E(r)}const u={type:1,geometry:[[Math.round(this.options.extent*(l*r-n)),Math.round(this.options.extent*(h*r-o))]],tags:c};let d;d=a||this.options.generateId?e[t+p]:this.points[e[t+p]].id,void 0!==d&&(u.id=d),s.features.push(u)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:n,extent:o,reduce:r,minPoints:s}=this.options,i=n/(o*Math.pow(2,e)),a=t.data,c=[],l=this.stride;for(let n=0;n<a.length;n+=l){if(a[n+2]<=e)continue;a[n+2]=e;const o=a[n],h=a[n+1],u=t.within(a[n],a[n+1],i),d=a[n+f];let p=d;for(const t of u){const n=t*l;a[n+2]>e&&(p+=a[n+f])}if(p>d&&p>=s){let t,s=o*d,i=h*d,m=-1;const g=(n/l<<5)+(e+1)+this.points.length;for(const o of u){const c=o*l;if(a[c+2]<=e)continue;a[c+2]=e;const h=a[c+f];s+=a[c]*h,i+=a[c+1]*h,a[c+4]=g,r&&(t||(t=this._map(a,n,!0),m=this.clusterProps.length,this.clusterProps.push(t)),r(t,this._map(a,c)))}a[n+4]=g,c.push(s/p,i/p,1/0,g,-1,p),r&&c.push(m)}else{for(let t=0;t<l;t++)c.push(a[n+t]);if(p>1)for(const t of u){const n=t*l;if(!(a[n+2]<=e)){a[n+2]=e;for(let t=0;t<l;t++)c.push(a[n+t])}}}}return c}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,n){if(t[e+f]>1){const o=this.clusterProps[t[e+m]];return n?Object.assign({},o):o}const o=this.points[t[e+p]].properties,r=this.options.map(o);return n&&r===o?Object.assign({},r):r}}function w(t,e,n){return{type:"Feature",id:t[e+p],properties:y(t,e,n),geometry:{type:"Point",coordinates:[(o=t[e],360*(o-.5)),_(t[e+1])]}};var o}function y(t,e,n){const o=t[e+f],r=o>=1e4?`${Math.round(o/1e3)}k`:o>=1e3?Math.round(o/100)/10+"k":o,s=t[e+m],i=-1===s?{}:Object.assign({},n[s]);return Object.assign(i,{cluster:!0,cluster_id:t[e+p],point_count:o,point_count_abbreviated:r})}function A(t){return t/360+.5}function E(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function _(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}},3517:(t,e,n)=>{var o,r;!function(s,i){if(null===(typeof window!=="undefined"?window:null))throw new Error("Google-maps package can be used only in browser");void 0===(r="function"==typeof(o=function(){"use strict";var t="3.62",e=null,n=null,o=!1,r=[],s=[],i=null,a={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};a.VERSION=t,a.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",a._googleMockApiObject={},a.load=function(t,e=!1){null===n?!0===o?t&&r.push(t):(o=!0,window[a.WINDOW_CALLBACK_NAME]=function(){c(t)},a.createLoader(e)):t&&t(n)},a.createLoader=function(t=!1){(e=document.createElement("script")).src=a.createUrl(),t&&(e.setAttribute("async","async"),e.setAttribute("defer","defer")),document.body.appendChild(e)},a.isLoaded=function(){return null!==n},a.createUrl=function(){var t=a.URL;return t+="?libraries=marker&loading=async&callback="+a.WINDOW_CALLBACK_NAME,a.KEY&&(t+="&key="+a.KEY),a.LIBRARIES.length>0&&(t+="&libraries="+a.LIBRARIES.join(",")),a.CLIENT&&(t+="&client="+a.CLIENT),a.CHANNEL&&(t+="&channel="+a.CHANNEL),a.LANGUAGE&&(t+="&language="+a.LANGUAGE),a.REGION&&(t+="&region="+a.REGION),a.VERSION&&(t+="&v="+a.VERSION),t},a.release=function(c){var l=function(){a.KEY=null,a.LIBRARIES=[],a.CLIENT=null,a.CHANNEL=null,a.LANGUAGE=null,a.REGION=null,a.VERSION=t,n=null,o=!1,r=[],s=[],void 0!==window.google&&delete window.google,void 0!==window[a.WINDOW_CALLBACK_NAME]&&delete window[a.WINDOW_CALLBACK_NAME],null!==i&&(a.createLoader=i,i=null),null!==e&&(e.parentElement.removeChild(e),e=null),c&&c()};o?a.load((function(){l()})):l()},a.onLoad=function(t){s.push(t)},a.makeMock=function(){i=a.createLoader,a.createLoader=function(){window.google=a._googleMockApiObject,window[a.WINDOW_CALLBACK_NAME]()}};var c=function(t){var e;for(o=!1,null===n&&(n=window.google),e=0;e<s.length;e++)s[e](n);for(t&&t(n),e=0;e<r.length;e++)r[e](n);r=[]};return a})?o.call(e,n,e,t):o)||(t.exports=r)}()},9491:(t,e,n)=>{"use strict";function o(t,e=!1){return t=t||"https://api-maps.yandex.ru/2.1/?lang=ru_RU",this.promise=this.promise||new Promise((function(n,o){var r=document.createElement("script");r.type="text/javascript",r.src=t,r.onload=n,r.onerror=function(t){return o(t)},e&&r.setAttribute("defer","defer"),document.body.appendChild(r)})).then((function(){var e,o,r=(e=t,null===(o=RegExp("[\\?&]ns=([^&#]*)").exec(e))?"":decodeURIComponent(o[1].replace(/\+/g," ")));return r&&"ymaps"!==r&&(0,eval)("var ymaps = "+r+";"),new Promise((function(t){if(!n.g.ymaps)throw new Error("Failed to find ymaps in the global scope");if(!n.g.ymaps.ready)throw new Error("ymaps.ready is missing");return ymaps.ready(t)}))})),this.promise}n.r(e),n.d(e,{load:()=>o})}}]);